group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop))+
geom_bar(stat = "identity")+
theme_minimal()+
scale_fill_discrete(palette = "GrandBudapest")+
labs(x = "Cause of Death", y = "Proportion of Dead  Lambs", fill = "Type")
?geom_bar
geom_bar(aes( colour = "GrandBudapest, stat = "identity",)+
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop))+
geom_bar(aes(colour = "GrandBudapest, stat = "identity",)+
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop))+
geom_bar(stat = "identity",)+
scale_fill_discrete(palette = "GrandBudapest")+
labs(x = "Cause of Death", y = "Proportion of Dead  Lambs", fill = "Type")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, color = cod))+
geom_bar(stat = "identity")+
theme_minimal()+
scale_fill_discrete(palette = "GrandBudapest")+
labs(x = "Cause of Death", y = "Proportion of Dead  Lambs", fill = "Type")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, color = cod))+
geom_bar(stat = "identity", fill = blue)+
theme_minimal()+
scale_fill_discrete(palette = "GrandBudapest")+
labs(x = "Cause of Death", y = "Proportion of Dead  Lambs", fill = "Type")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, color = cod))+
geom_bar(stat = "identity", fill = "blue")+
theme_minimal()+
scale_fill_discrete(palette = "GrandBudapest")+
labs(x = "Cause of Death", y = "Proportion of Dead  Lambs", fill = "Type")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, color = cod))+
geom_bar(stat = "identity", fill = "cod")+
theme_minimal()+
scale_fill_discrete(palette = "GrandBudapest")+
labs(x = "Cause of Death", y = "Proportion of Dead  Lambs", fill = "Type")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity", fill = "cod")+
theme_minimal()+
scale_fill_discrete(palette = "GrandBudapest")+
labs(x = "Cause of Death", y = "Proportion of Dead  Lambs", fill = "Type")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity", fill = "cod")+
theme_minimal()+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = "Type")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_minimal()+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = "Type")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_minimal()+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = " ")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
scale_color_manual(values = wes.palette(3, "GrandBudapest")) +
theme_gray()
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_minimal()+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = " ")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_minimal()+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = " ")=
scale_fill_manual(values = wes.palette(2, "Royal1"))
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_minimal()+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = " ")+
scale_fill_manual(values = wes.palette(2, "Royal1"))
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_minimal()+
scale_fill_manual(values = wes.palette(2, "Royal1"))+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = " ")+
scale_fill_manual(values = c("disease"Royal1"))+
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_minimal()+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = " ")+
scale_fill_manual(values = wes.palette(2, "Royal1"))
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_minimal()+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = " ")=
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_minimal()+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = " ")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_minimal()+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = " ")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_light()+
labs(x = "Cause of Death",
y = "Proportion of Dead  Lambs",
fill = " ")
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_light()+
labs(x = "Cause of Death",
y = "Proportion Dead Lambs",
fill = " ")+
them(legend = False)
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_light()+
labs(x = "Cause of Death",
y = "Proportion Dead Lambs",
fill = " ")+
theme(legend = False)
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_light()+
labs(x = "Cause of Death",
y = "Proportion Dead Lambs",
fill = " ")+
theme(legend = "False")
?theme
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_light()+
labs(x = "Cause of Death",
y = "Proportion Dead Lambs",
fill = " ")+
theme(legend.position = "none")
lambs_db<- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
```{r}
master <- dbGetQuery(lambs_db, "SELECT * FROM master;")
killsites <- dbGetQuery(lambs_db, "SELECT * FROM killsites;")
collars <- dbGetQuery(lambs_db, "SELECT * FROM collars;")
tagging <- dbGetQuery(lambs_db, "SELECT * FROM tagging;")
killsites %>%
pull(cod) %>%
unique()
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_light()+
labs(x = "Cause of Death",
y = "Proportion Dead Lambs",
fill = " ")+
theme(legend.position = "none")
library(DBI)
library(DBI)
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
master <- read.csv("~/WILD6900sp21/nf_final_project/master.csv")
dbWriteTable(lambs_db, "master", master, append = T)
Killsites <- read.csv("~/WILD6900sp21/nf_final_project/killsites.csv")
collars <- read.csv("~/WILD6900sp21/nf_final_project/collars.csv")
tagging <- read.csv("~/WILD6900sp21/nf_final_project/tagging.csv")
dbWriteTable(lambs_db, "tagging", tagging, append = T)
dbExecute(lambs_db, "CREATE TABLE Killsites (
killsite_id INTEGER PRIMARY KEY,
lamb_id varchar(5) NOT NULL,
collar_serial TEXT,
date TEXT,
time_hr INTEGER,
personnel TEXT,
mort_date TEXT,
utm_y INTEGER,
utm_x INTEGER,
carcass_present INTEGER,
collar_recovered INTEGER,
cod TEXT,
pred_species TEXT,
scavenging INTEGER,
fed_upon INTEGER,
bite_wounds INTEGER,
hemmoraging INTEGER,
cached INTEGER,
kill_site_found INTEGER,
sample_taken INTEGER,
FOREIGN KEY(lamb_id) REFERENCES master(lamb_id)
);")
dbExecute(lambs_db, "CREATE TABLE collars (
collar_id INTEGER PRIMARY KEY,
shipment_number TEXT,
order_number TEXT,
serial_number TEXT,
freq VARCHAR(7)
);")
collars <- read.csv("~/WILD6900sp21/nf_final_project/collars.csv")
a
dbWriteTable(lambs_db, "collars", collars, append = T)
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
library(DBI)
master <- dbGetQuery(lambs_db, "SELECT * FROM master;")
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
View(lambs_db)
```{r}
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
```
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
library(DBI)
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
setwd("~/WILD6900sp21/nf_final_project")
library(DBI)
library(DBI)
```{r}
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
master <- dbGetQuery(lambs_db, "SELECT * FROM master;")
killsites <- dbGetQuery(lambs_db, "SELECT * FROM killsites;")
collars <- dbGetQuery(lambs_db, "SELECT * FROM collars;")
tagging <- dbGetQuery(lambs_db, "SELECT * FROM tagging;")
killsites %>%
pull(cod) %>%
unique()
library(DBI)
library(tidyverse)
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
master <- dbGetQuery(lambs_db, "SELECT * FROM master;")
killsites <- dbGetQuery(lambs_db, "SELECT * FROM killsites;")
collars <- dbGetQuery(lambs_db, "SELECT * FROM collars;")
tagging <- dbGetQuery(lambs_db, "SELECT * FROM tagging;")
```{r}
killsites %>%
pull(cod) %>%
unique()
master <- dbGetQuery(lambs_db, "SELECT * FROM master;")
killsites <- dbGetQuery(lambs_db, "SELECT * FROM killsites;")
collars <- dbGetQuery(lambs_db, "SELECT * FROM collars;")
tagging <- dbGetQuery(lambs_db, "SELECT * FROM tagging;")
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
master <- read.csv("~/WILD6900sp21/nf_final_project/master.csv")
dbWriteTable(lambs_db, "master", master, append = T)
Killsites <- read.csv("~/WILD6900sp21/nf_final_project/killsites.csv")
collars <- read.csv("~/WILD6900sp21/nf_final_project/collars.csv")
tagging <- read.csv("~/WILD6900sp21/nf_final_project/tagging.csv")
dbWriteTable(lambs_db, "tagging", tagging, append = T)
View(killsites)
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
master <- read.csv("~/WILD6900sp21/nf_final_project/master.csv")
dbWriteTable(lambs_db, "master", master, append = T)
Killsites <- read.csv("~/WILD6900sp21/nf_final_project/killsites.csv")
collars <- read.csv("~/WILD6900sp21/nf_final_project/collars.csv")
tagging <- read.csv("~/WILD6900sp21/nf_final_project/tagging.csv")
dbWriteTable(lambs_db, "tagging", tagging, append = T)
master <- dbGetQuery(lambs_db, "SELECT * FROM master;")
killsites <- dbGetQuery(lambs_db, "SELECT * FROM killsites;")
collars <- dbGetQuery(lambs_db, "SELECT * FROM collars;")
tagging <- dbGetQuery(lambs_db, "SELECT * FROM tagging;")
killsites %>%
pull(cod) %>%
unique()
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_light()+
labs(x = "Cause of Death",
y = "Proportion Dead Lambs",
fill = " ")+
theme(legend.position = "none")
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
master <- dbGetQuery(lambs_db, "SELECT * FROM master;")
killsites <- dbGetQuery(lambs_db, "SELECT * FROM killsites;")
collars <- dbGetQuery(lambs_db, "SELECT * FROM collars;")
tagging <- dbGetQuery(lambs_db, "SELECT * FROM tagging;")
dbExecute(lambs_db, "CREATE TABLE Killsites (
killsite_id INTEGER PRIMARY KEY,
lamb_id varchar(5) NOT NULL,
collar_serial TEXT,
date TEXT,
time_hr INTEGER,
personnel TEXT,
mort_date TEXT,
utm_y INTEGER,
utm_x INTEGER,
carcass_present INTEGER,
collar_recovered INTEGER,
cod TEXT,
pred_species TEXT,
scavenging INTEGER,
fed_upon INTEGER,
bite_wounds INTEGER,
hemmoraging INTEGER,
cached INTEGER,
kill_site_found INTEGER,
sample_taken INTEGER,
FOREIGN KEY(lamb_id) REFERENCES master(lamb_id)
);")
dbExecute(lambs_db, "CREATE TABLE Killsites (
killsite_id INTEGER PRIMARY KEY,
lamb_id varchar(5) NOT NULL,
collar_serial TEXT,
date TEXT,
time_hr INTEGER,
personnel TEXT,
mort_date TEXT,
utm_y INTEGER,
utm_x INTEGER,
carcass_present INTEGER,
collar_recovered INTEGER,
cod TEXT,
pred_species TEXT,
scavenging INTEGER,
fed_upon INTEGER,
bite_wounds INTEGER,
hemmoraging INTEGER,
cached INTEGER,
kill_site_found INTEGER,
sample_taken INTEGER,
FOREIGN KEY(lamb_id) REFERENCES master(lamb_id)
);")
dbExecute(lambs_db, "CREATE TABLE Killsites (
killsite_id INTEGER PRIMARY KEY,
lamb_id varchar(5) NOT NULL,
collar_serial TEXT,
date TEXT,
time_hr INTEGER,
personnel TEXT,
mort_date TEXT,
utm_y INTEGER,
utm_x INTEGER,
carcass_present INTEGER,
collar_recovered INTEGER,
cod TEXT,
pred_species TEXT,
scavenging INTEGER,
fed_upon INTEGER,
bite_wounds INTEGER,
hemmoraging INTEGER,
cached INTEGER,
kill_site_found INTEGER,
sample_taken INTEGER,
FOREIGN KEY(lamb_id) REFERENCES master(lamb_id)
);")
library(DBI)
library(tidyverse)
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
master <- dbGetQuery(lambs_db, "SELECT * FROM master;")
killsites <- dbGetQuery(lambs_db, "SELECT * FROM killsites;")
collars <- dbGetQuery(lambs_db, "SELECT * FROM collars;")
tagging <- dbGetQuery(lambs_db, "SELECT * FROM tagging;")
killsites %>%
pull(cod) %>%
unique()
killsites %>%
group_by(cod) %>%
tally() %>%
mutate(prop = n/nrow(killsites)) %>%
ggplot(aes(x = cod, y = prop, fill = cod))+
geom_bar(stat = "identity")+
theme_light()+
labs(x = "Cause of Death",
y = "Proportion Dead Lambs",
fill = " ")+
theme(legend.position = "none")
library(DBI)
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
master <- read.csv("~/WILD6900sp21/nf_final_project/master.csv")
dbWriteTable(lambs_db, "master", master, append = T)
dbExecute(lambs_db, "CREATE TABLE Killsites (
killsite_id INTEGER PRIMARY KEY,
lamb_id varchar(5) NOT NULL,
collar_serial TEXT,
date TEXT,
time_hr INTEGER,
personnel TEXT,
mort_date TEXT,
utm_y INTEGER,
utm_x INTEGER,
carcass_present INTEGER,
collar_recovered INTEGER,
cod TEXT,
pred_species TEXT,
scavenging INTEGER,
fed_upon INTEGER,
bite_wounds INTEGER,
hemmoraging INTEGER,
cached INTEGER,
kill_site_found INTEGER,
sample_taken INTEGER,
FOREIGN KEY(lamb_id) REFERENCES master(lamb_id)
);")
library(DBI)
lambs_db <- dbConnect(RSQLite::SQLite(),"C:/Users/A01145342/Documents/WILD6900sp21/nf_final_project/lambs.db")
master <- read.csv("~/WILD6900sp21/nf_final_project/master.csv")
dbWriteTable(lambs_db, "master", master, append = T)
dbWriteTable(lambs_db, "master", master, append = T)
